
<div>
    <mat-toolbar color="secondary">
        <h1 class="app-name">POLYDESSIN</h1>
    </mat-toolbar>

    <mat-sidenav-container class="main-container">
        <mat-sidenav #sidenav mode="side" opened fixedTopGap="56">
            <mat-nav-list>
                <a mat-list-item class="filter" (click)="confirmNewDrawing()">
                    <img id="newDrawing" class="sideBarIcon" src="https://visualpharm.com/assets/375/Create-595b40b75ba036ed117d7bbf.svg" 
                    title="Nouveau dessin">
                </a>
                <a *ngIf='toolHandler.drawings.length' mat-list-item class="filter" (click)="toolHandler.undo()">
                    <img id="Annuler" class="sideBarIcon" src="../../../assets//lateral-bar//back-arrow.svg" title="Annuler">
                </a>
                <a *ngIf='toolHandler.undoList.length' mat-list-item class="filter" (click)="toolHandler.redo()">
                    <img id="Refaire" class="sideBarIcon" src="../../../assets//lateral-bar//redo-arrow.svg" title="Refaire">
                </a>
                <a mat-list-item class="filter" (click)='toolHandler.chooseCrayon()' >
                    <img id="pencil" class="sideBarIcon" src="https://i.imgur.com/ggPGxpn.png" title="Crayon" >
                </a>
                <a mat-list-item class="filter" (click)='toolHandler.chooseOther()'>
                    <img id="pen" class="sideBarIcon" src="https://i.imgur.com/WpG8Jy2.png" title="Stylo" >
                </a>
                <a mat-list-item class="filter" (click)='toolHandler.chooseOther()'>
                    <img id="bucket" class="sideBarIcon" src="https://i.imgur.com/Y0uukWJ.png" title="Sceau">
                </a>
                <a mat-list-item class="filter" (click)='toolHandler.choosePaintbrush()'>
                    <img id="brush" class="sideBarIcon" src="https://i.imgur.com/QcePo5S.png" title="Pinceau">
                </a>
                <a mat-list-item class="filter" (click)='toolHandler.chooseOther()'>
                    <img id="feather" class="sideBarIcon" src="https://i.imgur.com/xwBu4Rd.png" title="Plume">
                </a>
                <a mat-list-item class="filter" (click)='toolHandler.chooseOther()'>
                    <img id="sprayCan" class="sideBarIcon" src="https://i.imgur.com/4rxfzhH.png" title="Aérosol">
                </a>
                <a mat-list-item class="filter" (click)='toolHandler.chooseLine()'>
                    <img id="shapes" class="sideBarIcon" src="https://i.imgur.com//2k30ioP.png" title="Line">
                </a>
                <a mat-list-item class="filter" (click)='toolHandler.chooseColourApplicator()'>
                    <img id='colorChanger' class="sideBarIcon" src="https://i.imgur.com/r64kf3H.png" title="Applicateur de couleur">
                </a>
                <a mat-list-item class="filter" (click)='toolHandler.chooseEyedropper()'>
                        <img id='pipette' class="sideBarIcon" src="https://www.icone-png.com/png/22/22151.png" title="Pipette">
                    </a>
                <a mat-list-item class="filter" (click)="menuTrigger.openMenu()">
                    <img id="shapes" class="sideBarIcon" src="https://i.imgur.com/K6wI9it.png" title="Shapes">
                    <button mat-icon-button [matMenuTriggerFor]="shapeMenu" #menuTrigger="matMenuTrigger" (click)="menuTrigger.openMenu()"></button>
                </a>
                <mat-menu #shapeMenu="matMenu">
                    <button mat-menu-item (click)='toolHandler.chooseRectangle()'>Rectangle</button>
                    <button mat-menu-item (click)='toolHandler.chooseEllipse()'>Ellipse</button>
                    <button mat-menu-item (click)='toolHandler.choosePolygon()'>Polygon</button>
                </mat-menu>
                <a mat-list-item class="filter" (click)="sidenav2.toggle()">
                        <!-- this is supposed to toggle the right side sidenav with extra options; it doesn't work with new format -->
                    <img id="details" class="sideBarIcon" src="https://i.imgur.com/W0T8AVA.png" title="Détails">
                </a>
                <a mat-list-item class="filter" (click)="toolHandler.chooseSelector()">
                    <img src="../../../assets/lateral-bar/selection.svg" title="Sélection">
                </a>
                <a mat-list-item href="../../../assets/lateral-bar/Guide d'utilisation.pdf">
                    <img src="../../../assets/lateral-bar/guide_utilisation.svg" title="Guide d'utilisation">
                </a>
                <a mat-list-item (click) = 'toolHandler.choosePrimaryColor(); openChooseColorDialog()'>
                    <div class = "color-preview" title = "Primary color" 
                    [ngStyle]="{'background-color': colorService.color[0]}">
                    </div>
                </a>
                <a mat-list-item (click)='switchColours()'>
                    <img  class="switchIcon" src = "./assets/switch.png" title = "Switch Colors">            
                </a>
                <a mat-list-item (click) = 'toolHandler.chooseSecondaryColor(); openChooseColorDialog()'>
                    <div class = "color-preview" title = "Secondary color"
                    [ngStyle]="{'background-color': colorService.color[1]}">
                    </div>
                 </a>
            </mat-nav-list>
        </mat-sidenav>

            <app-canvas #myCanvas></app-canvas>
            <mat-sidenav #sidenav2 position="end">
            <mat-nav-list>
                <a mat-list-item class="filter">
                    <img id="colorPalette" class="sideBarIcon" src="https://i.imgur.com/bnUJxYQ.png" title="Palette de couleurs"
                    (click) = 'toolHandler.choosePrimaryColor(); openChooseColorDialog()'>
                </a>
                <a mat-list-item class="filter">
                    <img id="saveDrawing" class="sideBarIcon" src="https://i.imgur.com/c9xqiuZ.png" title="Sauvegarde dessin">
                </a>
                <app-drawing-tool-toolbox [canvas]='myCanvas'></app-drawing-tool-toolbox>
            </mat-nav-list>
        </mat-sidenav>
    </mat-sidenav-container>
</div>
